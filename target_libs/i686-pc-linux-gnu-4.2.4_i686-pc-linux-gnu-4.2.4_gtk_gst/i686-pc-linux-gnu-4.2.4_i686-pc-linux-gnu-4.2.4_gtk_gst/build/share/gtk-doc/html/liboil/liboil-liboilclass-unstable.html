<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>OilFunctionClass</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
<link rel="start" href="index.html" title="Liboil Reference Manual">
<link rel="up" href="ch02.html" title="Liboil Unstable API">
<link rel="prev" href="liboil-liboildebug.html" title="Debug">
<link rel="next" href="liboil-liboilimpl-unstable.html" title="OilFunctionImpl">
<meta name="generator" content="GTK-Doc V1.8 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch01.html" title="Liboil Stable API">
<link rel="chapter" href="ch02.html" title="Liboil Unstable API">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="liboil-liboildebug.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Liboil Reference Manual</th>
<td><a accesskey="n" href="liboil-liboilimpl-unstable.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2591784" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2612575" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="liboil-liboilclass-unstable"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2591784"></a><span class="refentrytitle">OilFunctionClass</span>
</h2>
<p>OilFunctionClass &#8212; Functions for manipulating function classes</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



                    <a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a>;
#define             <a href="liboil-liboilclass-unstable.html#OIL-DECLARE-CLASS:CAPS">OIL_DECLARE_CLASS</a>                   (klass)
#define             <a href="liboil-liboilclass-unstable.html#OIL-DEFINE-CLASS-FULL:CAPS">OIL_DEFINE_CLASS_FULL</a>               (klass, string, test)
#define             <a href="liboil-liboilclass-unstable.html#OIL-DEFINE-CLASS:CAPS">OIL_DEFINE_CLASS</a>                    (klass, string)
<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a>*   <a href="liboil-liboilclass-unstable.html#oil-class-get-by-index">oil_class_get_by_index</a>              (int i);
<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a>*   <a href="liboil-liboilclass-unstable.html#oil-class-get">oil_class_get</a>                       (const char *class_name);
void                <a href="liboil-liboilclass-unstable.html#oil-class-optimize">oil_class_optimize</a>                  (<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a> *klass);
int                 <a href="liboil-liboilclass-unstable.html#oil-class-get-n-classes">oil_class_get_n_classes</a>             (void);
void                <a href="liboil-liboilclass-unstable.html#oil-class-choose-by-name">oil_class_choose_by_name</a>            (<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a> *klass,
                                                         const char *name);
void                <a href="liboil-liboilclass-unstable.html#oil-class-register-impl-by-name">oil_class_register_impl_by_name</a>     (const char *klass_name,
                                                         <a href="liboil-liboilimpl-unstable.html#OilFunctionImpl">OilFunctionImpl</a> *impl);
void                <a href="liboil-liboilclass-unstable.html#oil-class-register-impl">oil_class_register_impl</a>             (<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a> *klass,
                                                         <a href="liboil-liboilimpl-unstable.html#OilFunctionImpl">OilFunctionImpl</a> *impl);
void                <a href="liboil-liboilclass-unstable.html#oil-class-register-impl-full">oil_class_register_impl_full</a>        (<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a> *klass,
                                                         void (*func) (void),
                                                         const char *name,
                                                         unsigned int flags);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2612575"></a><h2>Description</h2>
<p>
</p>
<p>
Functions operate on arrays of data.  The arrays can be either source
arrays (input only), destination arrays (output only), or in-place
arrays (both input and output).
</p>
<p>
</p>
<p>
</p>
<p>
The interpretation of a parameter can usually be determined from its
name.  Parameters for arrays are of the form d1_1xn, where the first
character represents the direction (source, destination, or in-place),
the second represents the index for that particular direction, and
the characters after the underscore indicate the size of the array.
In this case, "1xn" represents an array that is 1 by N.  Note that
the index and the size can both be omitted, giving a default of 1
for the index and 1xn for the size.
</p>
<p>
</p>
<p>
</p>
<p>
Parameters that represent strides are of the form "d1s".  The
interpretation is similar to above, except that the s indicates
a stride parameter.
</p>
<p>
</p>
<p>
</p>
<p>
The exceptions to the above rule are "dest", "src", "dstr", "sstr", etc.
These are aliases for "d1", "s1", "d1s", and "s1s", respectively.  This
form is deprecated and will be removed in the 0.4 series.
</p>
<p>
</p>
<p>
</p>
<p>
Two special parameters are "n" and "m", which determine the size of
the arrays in other parameters.
</p>
<p>
</p>
<p>
</p>
<p>
Data arrays are laid out such that rows are separated by the number
of bytes given by the corresponding stride.  Elements in each row
are contiguous.  If there is no stride parameter corresponding to an
array, the rows of the array are contiguous.
</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2612635"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2612646"></a><h3>
<a name="OilFunctionClass"></a>OilFunctionClass</h3>
<a class="indexterm" name="id2612658"></a><pre class="programlisting">typedef struct {
} OilFunctionClass;
</pre>
<p>
An opaque structure representing a function class.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2612678"></a><h3>
<a name="OIL-DECLARE-CLASS:CAPS"></a>OIL_DECLARE_CLASS()</h3>
<a class="indexterm" name="id2612690"></a><pre class="programlisting">#define             OIL_DECLARE_CLASS(klass)</pre>
<p>
Declares the Liboil function class <em class="parameter"><code>klass</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>klass</code></em>&#160;:</span></td>
<td> the name of a function class (without the oil_ prefix)
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2612735"></a><h3>
<a name="OIL-DEFINE-CLASS-FULL:CAPS"></a>OIL_DEFINE_CLASS_FULL()</h3>
<a class="indexterm" name="id2612746"></a><pre class="programlisting">#define             OIL_DEFINE_CLASS_FULL(klass, string, test)</pre>
<p>
Defines a <a href="liboil-liboilclass-unstable.html#OilFunctionClass"><span class="type">OilFunctionClass</span></a> structure for <em class="parameter"><code>klass</code></em>.  Classes
defined this way will be automatically at Liboil initialization
time.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>klass</code></em>&#160;:</span></td>
<td> name of class to declare (without oil_ prefix)
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>string</code></em>&#160;:</span></td>
<td> prototype of class
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>test</code></em>&#160;:</span></td>
<td> test function
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2612828"></a><h3>
<a name="OIL-DEFINE-CLASS:CAPS"></a>OIL_DEFINE_CLASS()</h3>
<a class="indexterm" name="id2612840"></a><pre class="programlisting">#define             OIL_DEFINE_CLASS(klass, string)</pre>
<p>
Defines a <a href="liboil-liboilclass-unstable.html#OilFunctionClass"><span class="type">OilFunctionClass</span></a> structure for <em class="parameter"><code>klass</code></em>.  Classes
defined this way will be automatically at Liboil initialization
time.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>klass</code></em>&#160;:</span></td>
<td> name of class to declare (without oil_ prefix)
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>string</code></em>&#160;:</span></td>
<td> prototype of class
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2612908"></a><h3>
<a name="oil-class-get-by-index"></a>oil_class_get_by_index ()</h3>
<a class="indexterm" name="id2612919"></a><pre class="programlisting"><a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a>*   oil_class_get_by_index              (int i);</pre>
<p>
Returns a pointer to the function class with index <em class="parameter"><code>i</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>i</code></em>&#160;:</span></td>
<td> index
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> an <em class="parameter"><code>OilFunctionClass</code></em>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2612991"></a><h3>
<a name="oil-class-get"></a>oil_class_get ()</h3>
<a class="indexterm" name="id2613004"></a><pre class="programlisting"><a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a>*   oil_class_get                       (const char *class_name);</pre>
<p>
Returns a pointer to the function class that has the given class
name.  If no such class is found, NULL is returned.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>class_name</code></em>&#160;:</span></td>
<td> the name of the function class
</td>
</tr>
<tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a pointer to a function class
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2650415"></a><h3>
<a name="oil-class-optimize"></a>oil_class_optimize ()</h3>
<a class="indexterm" name="id2650426"></a><pre class="programlisting">void                oil_class_optimize                  (<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a> *klass);</pre>
<p>
Tests and profiles each implementation for the given function
class.  Testing compares the output of running each implementation
on random input against the reference implementation for the
same input.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><em class="parameter"><code>klass</code></em>&#160;:</span></td>
<td> a function class
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2650480"></a><h3>
<a name="oil-class-get-n-classes"></a>oil_class_get_n_classes ()</h3>
<a class="indexterm" name="id2650491"></a><pre class="programlisting">int                 oil_class_get_n_classes             (void);</pre>
<p>
Returns the number of function classes.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the number of function classes
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2650530"></a><h3>
<a name="oil-class-choose-by-name"></a>oil_class_choose_by_name ()</h3>
<a class="indexterm" name="id2650541"></a><pre class="programlisting">void                oil_class_choose_by_name            (<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a> *klass,
                                                         const char *name);</pre>
<p>
Sets the chosen implementation for the given function class to
the implementation with the given name.  If no implementation
having the given name is found, the chosen implementation is
not changed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>klass</code></em>&#160;:</span></td>
<td> a function class
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>name</code></em>&#160;:</span></td>
<td> the name of an implementation
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2650616"></a><h3>
<a name="oil-class-register-impl-by-name"></a>oil_class_register_impl_by_name ()</h3>
<a class="indexterm" name="id2650627"></a><pre class="programlisting">void                oil_class_register_impl_by_name     (const char *klass_name,
                                                         <a href="liboil-liboilimpl-unstable.html#OilFunctionImpl">OilFunctionImpl</a> *impl);</pre>
<p>
Adds <em class="parameter"><code>impl</code></em> to the list of implementations associated with
the function class given by <em class="parameter"><code>klass_name</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>klass_name</code></em>&#160;:</span></td>
<td> the name of the class
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>impl</code></em>&#160;:</span></td>
<td> an implementation
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2650711"></a><h3>
<a name="oil-class-register-impl"></a>oil_class_register_impl ()</h3>
<a class="indexterm" name="id2650722"></a><pre class="programlisting">void                oil_class_register_impl             (<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a> *klass,
                                                         <a href="liboil-liboilimpl-unstable.html#OilFunctionImpl">OilFunctionImpl</a> *impl);</pre>
<p>
Adds <em class="parameter"><code>impl</code></em> to the list of implementations associated with
the function class given by <em class="parameter"><code>klass</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>klass</code></em>&#160;:</span></td>
<td> the class
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>impl</code></em>&#160;:</span></td>
<td> an implementation
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2650807"></a><h3>
<a name="oil-class-register-impl-full"></a>oil_class_register_impl_full ()</h3>
<a class="indexterm" name="id2650818"></a><pre class="programlisting">void                oil_class_register_impl_full        (<a href="liboil-liboilclass-unstable.html#OilFunctionClass">OilFunctionClass</a> *klass,
                                                         void (*func) (void),
                                                         const char *name,
                                                         unsigned int flags);</pre>
<p>
Adds <em class="parameter"><code>func</code></em> to the list of implementations associated with
the function class given by <em class="parameter"><code>klass</code></em>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><span class="term"><em class="parameter"><code>klass</code></em>&#160;:</span></td>
<td> the class
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>func</code></em>&#160;:</span></td>
<td> the function
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>name</code></em>&#160;:</span></td>
<td> name of the function
</td>
</tr>
<tr>
<td><span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td> CPU flags
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
</body>
</html>
